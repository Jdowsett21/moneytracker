(this["webpackJsonpbudgeting-app"]=this["webpackJsonpbudgeting-app"]||[]).push([[6],{142:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(4),r=a.n(n),c=a(7),o=a(2),s=a(9),u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("/budgets/addBudget",e);case 2:n=t.sent,c=n.data,a({type:o.c,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/budgets/getBudgets");case 2:a=e.sent,n=a.data,t({type:o.n,payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/budgets/incrementBudget/".concat(e._id),e);case 2:n=t.sent,c=n.data,a({type:o.D,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/budgets/decrementBudget/".concat(e._id),e);case 2:n=t.sent,c=n.data,a({type:o.i,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/budgets/getBudgetType/".concat(e));case 2:n=t.sent,c=n.data,a("Income"===e?{type:o.g,payload:c}:{type:o.h,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return m}));var n=a(4),r=a.n(n),c=a(7),o=a(2),s=a(9),u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("/budgetCategories/add",e);case 2:n=t.sent,c=n.data,a({type:o.d,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/budgetCategories/getSubcategories/".concat(e));case 2:n=t.sent,c=n.data,a({type:o.p,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},i=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/budgetCategories");case 2:a=e.sent,n=a.data,t({type:o.o,payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.a.put("/budgetCategories/update/".concat(e._id),e);case 3:n=t.sent,c=n.data,a({type:o.mb,payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},144:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o}));var n=a(2),r=function(e){return{type:n.V,payload:e}},c=function(e){return{type:n.U,payload:e}},o=function(e){return{type:n.X,payload:e}}},161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(63),o=a(142),s=a(15),u=a(88);var l=Object(s.b)((function(e){return{budgets:e.budgets,transactions:e.transactions,months:e.months}}),{setBudgetMonthSum:o.e,getMonthTypeSum:u.d})((function(e){var t=e.budgets,a=t.budgetList,o=t.budgetIncomeSum,s=t.budgetSpendingSum,u=e.transactions,l=u.spendingSum,i=u.incomeSum,m=u.nonBudgetedIncomeTransactions,d=e.months.month,g=e.getMonthTypeSum,f=e.setBudgetMonthSum,b=Object(n.useState)(0),y=Object(c.a)(b,2),p=y[0],h=y[1],E=Object(n.useState)(0),v=Object(c.a)(E,2),N=v[0],C=v[1];return Object(n.useEffect)((function(){g(d,"Deposit",a),g(d,"Withdrawal",a),f("Spending"),f("Income"),h(a.filter((function(e){return"Income"===e.category})).length),C(m.length)}),[d,a]),r.a.createElement("div",{className:"col-lg-4 col-md-3 d-none d-lg-block bg budget-left-background  "},r.a.createElement("h2",{className:"text-right",style:{marginTop:"140px"}},"Income"),r.a.createElement("div",{className:"text-right"},r.a.createElement("strong",null,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i)," "),r.a.createElement("span",null,"so far")),r.a.createElement("div",{className:"text-right"},r.a.createElement("span",null,"of"),r.a.createElement("strong",null,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o))),r.a.createElement("h2",{className:"text-right",style:{marginTop:"".concat(p+N===0?10:10+70*p+16*N,"px")}},"Spending"),r.a.createElement("div",{className:"text-right"},r.a.createElement("strong",null,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l)," "),r.a.createElement("span",null,"so far")),r.a.createElement("div",{className:"text-right"},r.a.createElement("span",null,"of"),r.a.createElement("strong",null,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s))))})),i=a(144),m=a(11);var d=Object(s.b)((function(e){return{months:e.months,transactions:e.transactions}}),{setHoveredBudgetMonth:i.a,isUserAuthenticated:m.b,setHoveredMonthColor:u.m,setMonth:i.c})((function(e){var t=e.listMonth,a=e.setMonth,c=e.index,o=e.setHoveredBudgetMonth,s=e.setHoveredMonthColor,u=e.transactions,l=u.hoveredColor,i=u.monthNetColor,m=e.months,d=m.month,g=m.hoveredBudgetMonth,f=e.isUserAuthenticated;return Object(n.useEffect)((function(){f()}),[]),r.a.createElement("li",{className:"list-group-item ",onMouseOver:function(){o(c)&&s(g)},onMouseLeave:function(){o(""),s("")}},r.a.createElement("a",{href:"#",value:t,onClick:function(){a(t),s("")},className:"btn py-1 px-2 mt-3 ",style:{backgroundColor:t===d?i:t===g?l:"#e9ecef"}},r.a.createElement("span",{className:"text-gray extra-small-font"},t)))})),g=a(24),f=a.n(g),b=a(20),y=a(18),p=a(29),h=a(30),E=a(48),v=b.b().shape({category:b.c().required("Category is required"),budgetLimit:b.a().required("Budget Limit is required")});var N=Object(s.b)(null,{addBudget:o.a})((function(e){var t=e.addBudget;return r.a.createElement("div",{id:"addBudget",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h2",null,"Create A Budget"),r.a.createElement("div",{className:"modal-body"},r.a.createElement(p.b,{validationSchema:v,initialValues:{category:"",subCategory:"",budgetLimit:""},onSubmit:function(e){return t(e)}},(function(){return r.a.createElement(p.a,null,r.a.createElement(h.a,{text:"Category"}),r.a.createElement(y.a,{ariaLabel:"Category",name:"category",type:"text",placeholder:"Category"}),r.a.createElement(h.a,{text:"SubCategory"}),r.a.createElement(y.a,{ariaLabel:"SubCategory",name:"subCategory",type:"text",placeholder:"SubCategory"}),r.a.createElement(h.a,{text:"Budget Limit"}),r.a.createElement(y.a,{ariaLabel:"Budget Limit",name:"budgetLimit",type:"text",placeholder:"Budget Limit"}),r.a.createElement(E.a,{type:"submit",text:"Add Budget"}))}))))))})),C=a(5);var x=Object(s.b)((function(e){return{months:e.months}}),{decrementBudget:o.b,preventTransactionReRendering:u.l,setTransactionListByCategory:u.v,incrementBudget:o.d})((function(e){var t=e.budget,a=e.categoryTotal,o=e.incrementBudget,s=e.decrementBudget,u=e.months.month,l=e.preventTransactionReRendering,i=e.setTransactionListByCategory,m=Object(n.useState)(""),d=Object(c.a)(m,2),g=d[0],f=d[1],b=Object(n.useState)(""),y=Object(c.a)(b,2),p=y[0],h=y[1],E=Object(n.useState)(""),v=Object(c.a)(E,2),N=v[0],x=v[1],j=Object(n.useState)(!1),S=Object(c.a)(j,2),O=S[0],M=S[1],B=Object(n.useState)(!1),w=Object(c.a)(B,2),T=w[0],k=w[1];return Object(n.useEffect)((function(){f(a>=t.budgetLimit?100:a/t.budgetLimit*100),h("Income"===t.category||a/t.budgetLimit<.9?"success":a>=t.budgetLimit?"danger":"warning"),x("Income"===t.category||a/t.budgetLimit<.9?"#ddf3df":a>=t.budgetLimit?"#f28179":"#eff279")}),[a,t]),r.a.createElement("div",{key:t.category,onMouseOver:function(){M(!0)},onMouseLeave:function(){M(!1)},style:{borderTop:"#61dafb"}},O&&r.a.createElement("div",{className:"border border-".concat(p," pt-1 mb"),style:{backgroundColor:N}},r.a.createElement("div",{className:"px-3 d-flex align-content-end"},r.a.createElement(C.b,{to:"/transactions",className:"mr-auto text-dark",onClick:function(){l(),i(t,u)}},""===t.subCategory?r.a.createElement("strong",{className:"small-medium-font "},"".concat(t.category)):r.a.createElement("span",{className:"small-medium-font "},"".concat(t.category)),r.a.createElement("strong",{className:"small-medium-font"},""===t.subCategory?"":": ".concat(t.subCategory))),r.a.createElement("div",{className:"d-flex pb-1"},r.a.createElement("a",{onClick:function(){s(t)},onMouseOver:function(){k(!0)},onMouseLeave:function(){k(!1)},className:"pr-1  rounded-circle fas fa-caret-left fa-xs  align-self-end",style:{backgroundColor:"".concat(T?"bg bg-secondary":"")}}),r.a.createElement("h2",{className:"small-medium-font align-self-end"},"$".concat(t.budgetLimit," ")),r.a.createElement("a",{onClick:function(){o(t)},className:"px-1 fas fa-caret-right fa-xs  align-self-end text-decoration-none"}),r.a.createElement("span",{className:"extra-small-font align-self-end"},"expected"))),r.a.createElement("div",{className:"progress m-1",style:{height:"12px"}},r.a.createElement("div",{className:"progress-bar progress-bar-striped bg-".concat(p),style:{width:"".concat(g,"%")}})),r.a.createElement("div",{className:"d-flex justify-content-end px-1 pb-1"},r.a.createElement("span",{className:"small-font i"},"$".concat(a," spent this month")))),!1===O&&r.a.createElement("div",{className:"border border-white pt-1"},r.a.createElement("div",{className:"d-flex justify-content-between px-3 "},r.a.createElement("div",{className:"mr-auto"},""===t.subCategory?r.a.createElement("strong",{className:"small-medium-font "},"".concat(t.category)):r.a.createElement("span",{className:"small-medium-font "},"".concat(t.category)),r.a.createElement("strong",{className:"small-medium-font"},""===t.subCategory?"":": ".concat(t.subCategory))),r.a.createElement("div",{className:"d-flex align-self-end pb-1"},r.a.createElement("h2",{className:"small-medium-font"},"".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)," of $").concat(t.budgetLimit)))),r.a.createElement("div",{className:"progress m-1",style:{height:"12px"}},r.a.createElement("div",{className:"progress-bar progress-bar-striped bg-".concat(p),style:{width:"".concat(g,"%")}})),r.a.createElement("div",{style:{marginBottom:"1.5rem"}})))}));var j=Object(s.b)((function(e){return{budgets:e.budgets,transactions:e.transactions,months:e.months}}),{getBudgets:o.c,setMonthNet:u.n,getTransactionCategories:u.h,getMonthsTransactions:u.e,getTransactionTotalByCategory:u.i})((function(e){var t=e.getBudgets,a=e.type,c=e.setMonthNet,o=e.getTransactionCategories,s=e.getMonthsTransactions,u=e.getTransactionTotalByCategory,l=e.transactions,i=l.categoryTotals,m=l.monthTransactions,d=e.budgets.budgetList,g=e.months.month;return Object(n.useEffect)((function(){t(),s(g)}),[g]),Object(n.useEffect)((function(){c(g),o(),u(d)}),[m,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-3 pt-2 ",style:{borderTop:"1px solid grey"}},d.map((function(e){return i.map((function(t){if(e.subCategory===t.subCategory&&e.category===t.category&&e.budgetType===a)return r.a.createElement(x,{budget:e,categoryTotal:t.total<0?-1*t.total:t.total,key:e})}))}))))}));var S=Object(s.b)((function(e){return{months:e.months}}),{setTransactionListByCategory:u.v,preventTransactionReRendering:u.l})((function(e){var t=e.months.month,a=e.transaction,n=e.setTransactionListByCategory,c=e.preventTransactionReRendering;return r.a.createElement("li",{className:"d-flex justify-content-between"},r.a.createElement(C.b,{to:"/transactions",className:"small-font",onClick:function(){c(),n(a,t)}},"".concat(a.category,": ").concat(a.subCategory)),r.a.createElement("span",{className:"small-font"},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.amount)))}));var O=Object(s.b)((function(e){return{transactions:e.transactions,months:e.months,budgets:e.budgets}}),{getNonBudgetedTransactions:u.f,setTransactionList:u.t,getNonBudgetedTransactionsSum:u.g,preventTransactionReRendering:u.l})((function(e){var t=e.type,a=e.message,o=e.transactions,s=(o.nonBudgetedTransferTransactions,o.nonBudgetedIncomeTransactions),u=o.nonBudgetedSpendingTransactions,l=o.nonBudgetedSpendingSum,i=o.nonBudgetedIncomeSum,m=e.preventTransactionReRendering,d=e.getNonBudgetedTransactions,g=e.setTransactionList,f=e.getNonBudgetedTransactionsSum,b=e.months.month,y=e.budgets.budgetList,p=Object(n.useState)(""),h=Object(c.a)(p,2),E=h[0],v=h[1];return Object(n.useEffect)((function(){d(b,t,y),f(b,t,y),v("Deposit"===t?s:u)}),[b,y]),r.a.createElement("ul",{className:"mb-5 px-2"},r.a.createElement("div",{className:"d-flex justify-content-between "},r.a.createElement(C.b,{to:"/transactions",className:"small-medium-font  text-dark",href:"#",onClick:function(){m(),g(E,b)}},a),r.a.createElement("span",{className:"small-medium-font"},"Withdrawal"===t?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i))),"Withdrawal"===t?u.map((function(e){return e.paymentType===t&&r.a.createElement(S,{key:e._id,transaction:e})})):s.map((function(e){return e.paymentType===t&&r.a.createElement(S,{key:e._id,transaction:e})})))})),M=a(33),B=a(1),w=a(143),T=a(151),k=a(147),L=a.n(k);var I=Object(s.b)((function(e){return{budgetCategories:e.budgetCategories}}),{updateBudgetCategory:w.d,getBudgetSubCategories:w.c})((function(e){var t=e.getBudgetSubCategories,a=e.updateBudgetCategory,o=e.budgetCategories,s=o.budgetCategoryList,u=o.budgetSubCategories,l=Object(n.useState)(""),i=Object(c.a)(l,2),m=i[0],d=i[1],g=Object(n.useState)(""),f=Object(c.a)(g,2),b=f[0],y=f[1];return Object(n.useEffect)((function(){d(s[0])}),[]),Object(n.useEffect)((function(){s.length>0&&m&&t(m.category)}),[s,m]),r.a.createElement("div",{id:"budgetCategories",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h2",null,"Manage Your Categories"),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("ul",null,s.map((function(e){return r.a.createElement("li",null,r.a.createElement("a",{href:"/#",className:"extra-small-font",onClick:function(){return d(e)},key:e._id},e.category))}))),r.a.createElement("div",null,r.a.createElement("ul",null,u&&u[0].subCategories.map((function(e){return r.a.createElement("li",null,e.subCategory)})),r.a.createElement("a",{href:"/#",onClick:function(){if(""===b)return Object(T.b)("Please Enter a Sub Category");var e=Object(B.a)(Object(B.a)({},m),{},{subCategories:[].concat(Object(M.a)(m.subCategories),[{_id:L.a.Types.ObjectId(),subCategory:b}])});a(e),y(""),Object(T.b)("")},className:"btn btn-primary"},"Add Category"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"subCategory",value:b,className:"form-control",onChange:function(e){return y(e.target.value)}})),r.a.createElement(T.a,{closeOnClick:!0}))))))))})),U=b.b().shape({category:b.c().required("Category is required")});var D=Object(s.b)((function(e){return{budgetCategories:e.budgetCategories}}),{addBudgetCategory:w.a})((function(e){var t=e.addBudgetCategory;return e.budgetCategories.budgetCategoryList,r.a.createElement("div",{id:"addBudgetCategory",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h2",null,"Create A Budget"),r.a.createElement("div",{className:"modal-body"},r.a.createElement(p.b,{validationSchema:U,initialValues:{category:"",subCategory:""},onSubmit:function(e){return t(e)}},(function(){return r.a.createElement(p.a,null,r.a.createElement(h.a,{text:"Category"}),r.a.createElement(y.a,{ariaLabel:"Category",name:"category",type:"text",placeholder:"Category"}),r.a.createElement(h.a,{text:"subCategory"}),r.a.createElement(y.a,{ariaLabel:"subCategory",name:"subCategory",type:"text",placeholder:"subCategory"}),r.a.createElement(E.a,{type:"submit",text:"Add Budget"}))}))))))}));var F=Object(s.b)(null,{getBudgetCategories:w.b})((function(e){e.getBudgetCategories;var t=[f()().subtract(11,"months").format("MMM"),f()().subtract(10,"months").format("MMM"),f()().subtract(9,"months").format("MMM"),f()().subtract(8,"months").format("MMM"),f()().subtract(7,"months").format("MMM"),f()().subtract(6,"months").format("MMM"),f()().subtract(5,"months").format("MMM"),f()().subtract(4,"months").format("MMM"),f()().subtract(3,"months").format("MMM"),f()().subtract(2,"months").format("MMM"),f()().subtract(1,"months").format("MMM"),f()().subtract(0,"months").format("MMM")];return r.a.createElement("div",{className:" col-lg-5 pr-5 shadow-lg"},r.a.createElement("ul",{className:"list-group list-group-horizontal d-flex justify-content-center"},t.map((function(e,t){return r.a.createElement(d,{key:e,index:t,listMonth:e})}))),r.a.createElement("div",{className:" d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-outline-dark my-3","data-toggle":"modal","data-target":"#addBudget",type:"button"},"+ Add Budget")),r.a.createElement(N,null),r.a.createElement(D,null),r.a.createElement(I,null),r.a.createElement(j,{type:"Income"}),r.a.createElement(O,{type:"Deposit",message:"Other Income"}),r.a.createElement(j,{type:"Spending"}),r.a.createElement(O,{type:"Withdrawal",message:"Everything Else"}))}));var A=Object(s.b)((function(e){return{budgets:e.budgets}}))((function(e){var t=e.budgets,a=t.budgetSpendingSum,n=t.budgetIncomeSum;return r.a.createElement("div",{className:"col-md-3 d-none d-lg-block col-lg-3",style:{height:"100%"}},r.a.createElement("div",{className:"card rounded shadow border",style:{maxWidth:"60%",marginTop:"140px",borderColor:"#5b5b5b"}},r.a.createElement("div",{className:"card-header p-1"},r.a.createElement("h2",{className:"large-font pb-4"},"You've budgeted..."),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h3",{className:"small-medium-font"},"Income:"),r.a.createElement("h3",{className:"medium-font"},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h3",{className:"small-medium-font"},"Spending:"),r.a.createElement("h3",{className:"small-medium-font text-danger"},a>0?"-".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)):"$0.00"))),r.a.createElement("div",{className:"card-body p-1"}," ",r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h3",{className:"medium-font"},"Left Over:"),r.a.createElement("h3",{className:"medium-font text-".concat(n>a?"success":"danger")},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n-a))))))}));t.default=Object(s.b)((function(e){return{auth:e.auth,transactions:e.transactions,months:e.months}}),{logout:m.d,setAuthInfo:m.e,isUserAuthenticated:m.b,getTransactions:u.j})((function(e){var t=e.isUserAuthenticated,a=e.setAuthInfo,c=e.months.month;return Object(n.useEffect)((function(){a(),t()}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid fixed-bottom-container m-auto"},r.a.createElement("div",{className:"row d-flex justify-content-start"},r.a.createElement(l,null),r.a.createElement(F,null),r.a.createElement(A,null))))}))}}]);
//# sourceMappingURL=6.1dc56f38.chunk.js.map